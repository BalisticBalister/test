"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6855],{50644:(e,t,r)=>{r.d(t,{Q:()=>O});var i,n,o=r(87363),a=r.n(o),l=r(9579),s=r(72853);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},c.apply(this,arguments)}const d=e=>o.createElement("svg",c({fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 11.292h14a1 1 0 1 1 0 2H5z",clipRule:"evenodd"})),n||(n=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 19.293a1 1 0 0 1-1.414 0l-7-7 7-7A1 1 0 1 1 12 6.707l-5.586 5.586L12 17.879a1 1 0 0 1 0 1.414",clipRule:"evenodd"})));var m,u;function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},h.apply(this,arguments)}const f=e=>o.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),m||(m=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 13.208H5a1 1 180 1 1 0-2h14z",clipRule:"evenodd"})),u||(u=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 5.207a1 1 180 0 1 1.414 0l7 7-7 7A1 1 180 1 1 12 17.793l5.586-5.586L12 6.621a1 1 180 0 1 0-1.414",clipRule:"evenodd"})));var p;function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},g.apply(this,arguments)}const b=e=>o.createElement("svg",g({fill:"none",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),p||(p=o.createElement("path",{fill:"currentColor",d:"m11.232 14.005 8.382 8.388a1.75 1.75 0 0 1-2.476 2.474L7.52 15.242a1.75 1.75 0 0 1 0-2.474l9.618-9.625a1.75 1.75 0 0 1 2.476 2.474z"})));var v;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},k.apply(this,arguments)}const y=e=>o.createElement("svg",k({fill:"none",viewBox:"0 0 28 29",xmlns:"http://www.w3.org/2000/svg"},e),v||(v=o.createElement("path",{fill:"currentColor",d:"m16.777 14.905-8.382 8.388a1.75 1.75 0 1 0 2.476 2.474l9.618-9.625a1.75 1.75 0 0 0 0-2.474l-9.618-9.625a1.75 1.75 0 0 0-2.476 2.474z"})));var w=r(6783);const E={button:"floatButton-critical-module__button--CQIyI clickableElement-module__clickableElement--VFi7q",icon:"floatButton-critical-module__icon--cpcl2","icon-left-offset":"floatButton-critical-module__icon-left-offset--S0DP4","icon-right-offset":"floatButton-critical-module__icon-right-offset--BrvSN"},C={left:a().createElement(b,null),right:a().createElement(y,null)},P={left:a().createElement(d,null),right:a().createElement(f,null)},R=(0,o.forwardRef)((({alt:e,className:t,onClick:r,direction:i,"data-testid":n},c)=>{const d=(0,o.useCallback)((e=>{navigator.userAgent.match(/safari/i)&&e.preventDefault()}),[]),{floatButton:{arrowType:m}}=(0,w.P)(),u="short"===m,h=u?C:P;return a().createElement("button",{className:(0,l.y)(t,E.button),"data-testid":n,ref:c,title:e,onClick:r,onMouseDown:d},a().createElement(s.Z,{alt:e,className:(0,l.y)(E.icon,u&&E[`icon-${i}-offset`]),size:u?28:24},h[i]))}));R.displayName="FloatButton";const O=(0,o.memo)(R)},96321:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ne});var i=r(63904),n=r.n(i),o=r(87363),a=r.n(o),l=r(45331),s=r(71861),c=r(4230),d=r(67748),m=r.n(d),u=r(4463),h=r(6193),f=r(5718),p=r(18455),g=r(78740),b=r(34060),v=r(36292),k=r(482),y=r(40184),w=r(18546),E=r(98343),C=r(20613),P=r(11324),R=r(35090),O=r(82027),S=r(68108),D=r(37705),L=r(41811),x=r(13377),z=r(15771),B=r(57681),_=Object.defineProperty,T=Object.defineProperties,I=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,N=(e,t,r)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const q=n().with("play-similar-games-tile"),$=(0,b.j)((0,o.memo)((({column:e,game:t,inGamePage:r,similarToAppId:i})=>{const n=(0,y.b)(),{abt:l,baseUrlWithLangPath:s,isPWA:c,hidePaymentsAndCurrency:d,referrer:b,oneTabPWA:_,isSlowCountry:$}=n,G=(0,u.TH)(),H=(0,o.useRef)(null),W=(0,z.TT)(l.flags),{media:V,title:Z,appID:U,bkPromo:Y}=t,F=Y&&("visibilityLinks"in Y||"clickLink"in Y),K=$?P.wC.icon.smallLow:P.wC.cover[L.xY.PLAY_SIMILAR_GAMES],J=(0,o.useMemo)((()=>{var e;let r=(0,R.Yk)(G.search,{utm_source:encodeURIComponent(F?g.gK:g.b3),[L.o1]:d?"1":"",[L.Vw]:(0,S.sD)(b)?b:"",[L.cB]:c?"1":""});if((null==(e=t.bkPromo)?void 0:e.yclid)&&(r=(0,R.Px)({search:r,params:{yclid:t.bkPromo.yclid}})),W){let e="",t="?";if(-1!==r.indexOf("?")){t=r+"&";try{const t=m().parse(r.substring(1)),i=encodeURIComponent(JSON.stringify(t));e=`&${g.cC}=${i}`}catch(e){(0,D.H)({prefix:"GameTile",block:x.W.APP_PAGE,message:"Failed to encode params for similar games popup in catalog"},e)}}return`${s}/${t}game-id=${U}${e}`}return`${s}${(0,B.TI)(n,{appID:U})}${r}`}),[n,U,s,d,t.bkPromo,c,F,G.search,W,b]),{sendClickDaemon:Q}=(0,v.P)(),X=(0,o.useMemo)((()=>({page:`game_${i}`,row:0,col:e,app_id:t.appID,card:L.xY.PLAY_SIMILAR_GAMES})),[e,t.appID,i]),ee=(0,o.useCallback)((e=>{var t;F&&(null==(t=Y.visibilityLinks)||t.forEach((e=>(0,w.Z)(e,{credentials:"include"})))),Q(e,X)}),[Y,F,X,Q]),{firstScreen:te,blockSize:re}=(0,k.V)({ref:H,onShow:ee,threshold:1,delay:0,observerId:"useOnShowLinks"}),ie=(0,o.useCallback)((()=>{F&&Y.clickLink&&fetch(Y.clickLink).then((e=>{if(200!==e.status)throw new Error(`Game click_link fetch return ${e.status}`)})).catch((e=>{(0,D.H)({prefix:"GameTile",block:x.W.APP_PAGE,message:"Failed to fetch click link",additional:{clickLink:Y.clickLink}},e)}));const e={action:{name:E.zx.CLICK},firstScreen:te,blockSize:re};var t;Q(e,(t=((e,t)=>{for(var r in t||(t={}))j.call(t,r)&&N(e,r,t[r]);if(A)for(var r of A(t))M.call(t,r)&&N(e,r,t[r]);return e})({},X),T(t,I({click_url:J,elem:"card"}))))}),[Y,F,X,re,te,J,Q]),ne=(0,o.useMemo)((()=>{const e={rtx_reqid:n.rtxReqid||(0,C.S)().rtx_reqid,request_id:t.requestId};return t.gamesRequestId&&(e.games_request_id=t.gamesRequestId),e}),[n.rtxReqid,t.gamesRequestId,t.requestId]);return a().createElement("div",{className:q(),ref:H},a().createElement(p.Kk,{className:q("image"),href:J,redirParams:ne,target:_?"_parent":"_blank",title:Z,onClick:ie},a().createElement("img",{alt:Z,src:`${V.cover["prefix-url"]}${K}`,title:Z})),a().createElement(p.Kk,{className:q("title"),href:J,redirParams:ne,target:_?"_parent":"_blank",title:Z,onClick:ie},Z),t.gqRating?a().createElement(f.Z,{isBackgroundTransparent:!0,isCornered:!0,isSimilarCard:!0,mix:q("quality-score"),value:t.gqRating,withoutText:!0}):null,F?a().createElement(h.Z,{badgeType:O.nJ.PROMO_DIRECT,isCustomBlackBadge:!r,size:L.xY.S}):null)})),{clickDaemonParams:{block:L.co.SIMILAR,wrapper:L.NK.PLAY_SIMILAR_GAMES,item:L.co.GAME}}),G=a().memo((({games:e,inGamePage:t,similarToAppId:r})=>a().createElement(a().Fragment,null,e.map(((e,i)=>a().createElement($,{clickDaemonParams:{request_id:e.requestId,games_request_id:e.gamesRequestId},column:i,game:e,inGamePage:t,key:e.appID,similarToAppId:r})))))),H="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;var W=r(5825),V=r(22355),Z=r(72538);var U=r(34967),Y=r(59453);const F=n().with("play-similar-games-stub");class K extends o.Component{render(){return a().createElement("div",{className:F()},a().createElement("div",{className:F("block",{text:Boolean(this.props.text),bg:!this.props.text})},this.props.text),a().createElement("div",{className:F("title",{bg:this.props.titleLine})}))}}const J=n().with(g.Ek),Q=({inGamePage:e=!1,visible:t=!0})=>a().createElement("div",{className:J({visible:t,"in-game-page":e})},Array.from(Array(e?6:8)).map(((e,t)=>a().createElement(K,{key:t,titleLine:!0}))),a().createElement(K,null)),X=K;var ee=r(85467),te=r(17061);const re=a().memo((({inGamePage:e,mix:t,onClose:r})=>{const i=(0,u.TH)(),{isPWA:n,hidePaymentsAndCurrency:l,referrer:s,oneTabPWA:c,baseUrl:d,location:m}=(0,y.b)(),h=(0,ee.T)()("similar.all-games"),f=(0,o.useMemo)((()=>(0,R.Yk)(i.search,{utm_source:encodeURIComponent(g.b3),[L.o1]:l?"1":"",[L.om]:(0,te.V)(L.om,m)||"",[L.Vw]:(0,S.sD)(s)?s:"",[L.cB]:n?"1":""})),[l,n,s,m,i]);return e?null:a().createElement("div",{className:t},a().createElement(p.Kk,{href:`${d}${f}`,target:c?"_self":"_blank"},a().createElement(X,{text:h})),a().createElement(Y.Z,{type:"app-page",onClick:r}))})),ie=n().with("play-similar-games"),ne=(0,b.j)((({inGamePage:e,isBlackFadeout:t,similarToAppId:r,visible:i})=>{const[n,d]=(0,o.useState)(!1),[m,u]=(0,o.useState)(void 0),h=(0,o.useRef)(null),f=(0,W.C)(V.b),p=(0,W.C)((e=>e.similarGames[Number(r)])),{isSearchCrawler:b=!1}=(0,o.useContext)(l.Z),y=(0,o.useCallback)((()=>{(0,c.xG)(r),(0,U.U4)({},{borrowParams:{play_similar_games:{action:"closed",appId:r}}}),d(!0),document.body.classList.add("with-similar-games_closed")}),[r]),w=(0,o.useCallback)(((e,t)=>{u(t)}),[]),{sendClickDaemon:E}=(0,v.P)(),C=(0,o.useCallback)((e=>{var t;E(e,{page:`game_${r}`,carousel_size:m,same_block_index:0,request_id:null==(t=null==p?void 0:p[0])?void 0:t.requestId})}),[E,m,p,r]),P=Boolean(void 0!==m&&!n&&!f);(0,k.V)({ref:h,onShow:C,ready:P});const R=(({closed:e,similarGames:t,inGamePage:r})=>{const i=(0,o.useRef)(!1),[n,a]=(0,o.useState)(0),l=(0,W.C)(V.b),s=(e,t)=>a(t.width),d=(0,o.useCallback)((()=>{i.current||r||(i.current=!0,Z.Z.addResizeBlock(g.SA,{game:{height:-g.lX}}),Z.Z.addResizeBlockListener("game",s))}),[r]),m=(0,o.useCallback)((()=>{i.current&&!r&&(i.current=!1,Z.Z.removeResizeBlock(g.SA),Z.Z.removeResizeBlockListener("game",s))}),[r]);return(0,o.useEffect)((()=>(e||null===t?m():d(),()=>{m()})),[e,t,d,m]),H((()=>{l||e?m():(d(),(0,c.ii)())}),[l,d,m]),n})({closed:n,inGamePage:Boolean(e),similarGames:p||[]}),O=(0,o.useMemo)((()=>e?{}:{width:`calc(100% + ${R}px)`}),[e,R]);if(!(null==p?void 0:p.length)&&!b&&!n)return a().createElement(Q,{inGamePage:e});return!(null==p?void 0:p.length)||!i||n?null:a().createElement("div",{className:ie({hidden:f&&!e,page:e?"game":"default"}),ref:h,style:O},a().createElement(s.Z,{gamePage:e,hasArrowButtons:!0,limitation:!0,mix:ie("container",{"fadeout-black":t}),onInitContainerElement:w},a().createElement(G,{games:p,inGamePage:e,similarToAppId:r})),a().createElement(re,{inGamePage:e,mix:ie("all-games-tile"),onClose:y}))}),{clickDaemonParams:{block:L.co.SIMILAR}})},52193:(e,t,r)=>{r.d(t,{Z:()=>c});var i=r(63904),n=r.n(i),o=r(87363),a=r.n(o),l=r(94671);const s=n().with("age-rating-badge"),c=({ageRating:e,mix:t=""})=>a().createElement("div",{className:(0,l.E)(s(),t)},e)},16982:(e,t,r)=>{r.d(t,{Z:()=>d});var i=r(63904),n=r.n(i),o=r(87363),a=r.n(o),l=r(5825),s=r(36172);const c=n().with("badge"),d=e=>{const{isBlack:t,mix:r,onClick:i,size:n,text:o,type:d,withShadow:m,title:u}=e,h=(0,l.C)(s.Up);return a().createElement("div",{className:`${c({darkTheme:h,size:n,type:d,with_shadow:m,isBlack:t})} ${r}`,title:u,onClick:i},o)}},6193:(e,t,r)=>{r.d(t,{Z:()=>b});var i=r(63904),n=r.n(i),o=r(87363),a=r.n(o),l=r(53726),s=r(52193);const c=r(16982).Z;var d=r(5718),m=r(82027),u=r(41811);const h=n().with("game-badges"),f=[u.xY.ADAPTIVE_RECOMMENDED_NEW,u.xY.L,u.xY.RECOMMENDED_NEW,u.xY.PREMIUM,u.xY.PREMIUM_BIG],p=[u.xY.ADAPTIVE_RECOMMENDED_NEW,u.xY.S];class g extends o.Component{constructor(){super(...arguments),this.getTextByType=(e,t)=>{const{getText:r,isWebApp:i}=this.props;if(!e)return"";switch(e){case m.nJ.NEW:return r(`badge.${e}${i?".webapp":""}`);case m.nJ.PROMO_DIRECT:case m.nJ.TV_RECENT:return"";case m.nJ.PROMO_EVENT:return r("badge.promo");default:return t||""}},this.getStickyBadge=()=>{const{size:e,badgeType:t,badgeTitle:r,isCustomBlackBadge:i}=this.props;if(!t)return null;const n=f.includes(e);if(t===m.nJ.NEW&&!n)return null;const o=p.includes(e);if(t===m.nJ.PROMO_DIRECT&&!o)return null;const l=this.getTextByType(t,r),s=this.getTitleByType(t);return a().createElement(c,{isBlack:i,key:"new",mix:h("sticky-badge"),size:e,text:l,title:s,type:t,withShadow:!1})}}render(){const{ageRating:e,gqRating:t}=this.props,r=[],i=this.getStickyBadge();return i&&r.unshift(i),e&&r.unshift(a().createElement(s.Z,{ageRating:e,key:"age-rating",mix:h("age-rating-badge")})),t&&r.unshift(a().createElement(d.Z,{isBackgroundTransparent:!0,isCornered:!0,key:"quality-score",mix:h("game-quality-badge"),value:t,withoutText:!0})),r}getTitleByType(e){const{getText:t}=this.props;if(e===m.nJ.PROMO_DIRECT)return t("badge.direct")}}g.defaultProps={mix:""};const b=(0,l.$j)((function(e){return{getText:e.getText}}))((0,o.memo)(g))},71861:(e,t,r)=>{r.d(t,{Z:()=>g});var i=r(50644),n=r(63904),o=r.n(n),a=r(87363),l=r.n(a),s=r(53726),c=r(45331),d=r(36172),m=r(72461),u=r(92213);function h(e){const t=getComputedStyle(e);return e.offsetWidth+parseInt(t.marginLeft,10)+parseInt(t.marginRight,10)}const f=o().with("horizontal-container");class p extends a.Component{constructor(e,t){super(e),this.containerRef=l().createRef(),this.listRef=l().createRef(),this.setScrollDirectionTimeout=e=>{window.setTimeout((()=>{this.setScrollDirection()}),e)},this.setScrollDirectionTimeoutOnOrientationChange=()=>this.setScrollDirectionTimeout(10),this.setScrollDirectionTimeoutOnResizeChange=()=>this.setScrollDirectionTimeout(10),this.handleVisibilityChange=()=>{const{hidden:e}=this.visibilityProps,{preLastScrollLeft:t}=this;this.isVisible=!document[e],this.isVisible&&this.containerRef.current&&(this.containerRef.current.scrollLeft=t)},this.handleScroll=()=>{var e;this.props.isPositionSaved&&this.isVisible&&(this.preLastScrollLeft=this.lastScrollLeft,this.lastScrollLeft=(null==(e=this.containerRef.current)?void 0:e.scrollLeft)||0),this.setScrollDirection()},this.handleLeftControlClick=()=>{this.handleControlClick("left")},this.handleRightControlClick=()=>{this.handleControlClick("right")},this.handleDoubleClick=e=>{e.preventDefault()};const r=t.rtl?"left":"right";this.isVisible=!0,this.lastScrollLeft=0,this.preLastScrollLeft=0,this.state={scrollDirection:e.showRightArrowSSR?r:"",isRightArrowOverflowed:!1,control:{left:{disabled:!1},right:{disabled:!1}}}}get visibilityProps(){let e="hidden",t="visibilitychange";return"msHidden"in document?(e="msHidden",t="msvisibilitychange"):"webkitHidden"in document&&(e="webkitHidden",t="webkitvisibilitychange"),{hidden:e,visibilityChange:t}}deleteResizeChangeHandler(){window.removeEventListener("orientationchange",this.setScrollDirectionTimeoutOnResizeChange,!1)}addOrientationChangeHandler(){window.addEventListener("orientationchange",this.setScrollDirectionTimeoutOnOrientationChange,!1)}deleteOrientationChangeHandler(){window.removeEventListener("orientationchange",this.setScrollDirectionTimeoutOnOrientationChange,!1)}resizeChangeHandler(){window.addEventListener("resize",this.setScrollDirectionTimeoutOnResizeChange,!1)}addVisibilityHandler(){const{visibilityChange:e}=this.visibilityProps;document.addEventListener(e,this.handleVisibilityChange,!1)}deleteVisibilityHandler(){const{visibilityChange:e}=this.visibilityProps;document.removeEventListener(e,this.handleVisibilityChange,!1)}centerScrollOnTarget(e){const{centerElement:t}=this.props;if(t&&t!==e&&this.containerRef.current){const e=h(this.containerRef.current);this.containerRef.current.scrollLeft=t.offsetLeft-e/2+t.clientWidth/2+0}}componentDidUpdate({centerElement:e}){this.setScrollDirectionTimeout(0),this.centerScrollOnTarget(e)}componentDidMount(){this.props.onInitContainerElement(this.containerRef.current,this.getCarouselSize()),this.resizeChangeHandler(),this.props.isPositionSaved&&(this.addVisibilityHandler(),this.setScrollDirectionTimeout(0))}componentWillUnmount(){this.deleteVisibilityHandler(),this.deleteResizeChangeHandler()}handleControlClick(e){const t=this.state.control[e];t&&t.disabled||this.canScrollTo(e)&&this.move(e)}move(e){const t=this.listRef.current,r=this.containerRef.current;if(!t||!r)return;const i=t.scrollLeft+this._getOffset(e);(0,m.Z)({scrollLeft:i},{element:r})}canScrollTo(e){return[e,"both"].includes(this.state.scrollDirection)}_getOffset(e){return("left"===e?-1:1)*this.props.scrollStep}setScrollDirection(){const e=this.containerRef.current;if(!e)return;const{rtl:t}=this.context,r=e.scrollLeft*(t?-1:1);let i=0;if(this.listRef.current){const e=getComputedStyle(this.listRef.current);i=parseInt(e.paddingLeft,10)+parseInt(e.paddingRight,10)}const n=this.props.limitation?e.scrollWidth:e.scrollWidth-36-36-i,o=h(e);let a="";const l=this.props.arrowCardShift+0;if(n<=o)a="";else if(r<=0)a=t?"left":"right";else{a=n-o-r>l?"both":t?"right":"left"}a!==this.state.scrollDirection&&this.setState({scrollDirection:a});const s=!!t||n-o-r>=l;s!==this.state.isRightArrowOverflowed&&this.setState({isRightArrowOverflowed:s})}getCarouselSize(){var e,t,r;let i=null==(e=this.listRef.current)?void 0:e.children[0],n=0;if(null==i?void 0:i.classList.length){if(null==i?void 0:i.classList.contains("promos-banner")){const e=window.getComputedStyle(i);n=i.clientWidth+parseFloat(e.marginLeft)+parseFloat(e.marginRight),i=null==(r=this.listRef.current)?void 0:r.children[1]}}else i=null==(t=this.listRef.current)?void 0:t.children[1];if(!this.listRef.current||!i)return"0";const o=this.listRef.current.parentElement||this.listRef.current,a=new u.Z(o),l=window.getComputedStyle(o),s=a.getElementVisibleWidth()-parseFloat(l.paddingLeft)-parseFloat(l.paddingRight)-n,c=window.getComputedStyle(i),d=i.clientWidth+parseFloat(c.marginLeft)+parseFloat(c.marginRight);if(!d)return"0";let m=s/d;return n&&(m+=1),m.toFixed(2)}render(){const{children:e,mix:t,hasSpace:r,gamePage:n,limitation:o,hasArrowButtons:a,showShadow:s,wrapperRef:c,size:d,getText:m}=this.props,{isRightArrowOverflowed:u,scrollDirection:h}=this.state;return l().createElement("div",{className:`${f({direction:h||"none",limitation:o,size:d})} ${n?"centered-content":f({adaptive:!0})} ${t}`},l().createElement("div",{className:f("container-wrapper",{adaptive:!0}),ref:c},l().createElement("div",{className:f("container",{"game-page":n,adaptive:!0}),ref:this.containerRef,onScroll:this.handleScroll},l().createElement("div",{className:f("list",{"game-page":n}),ref:this.listRef},e,l().createElement("span",{className:f("more")}),l().createElement("span",{className:f("place-keeper",{space:r})})))),s&&l().createElement("div",{className:f("shadow",{left:!0})}),s&&l().createElement("div",{className:f("shadow",{right:!0})}),a&&l().createElement("div",{className:f("control",{side:"left",visible:["both","left"].includes(h),"game-page-left-arrow":n}),onClick:this.handleLeftControlClick,onDoubleClick:this.handleDoubleClick},l().createElement(i.Q,{alt:m("common.scroll.left"),className:f("button"),"data-testid":"HorizontalContainerButton-Left",direction:"right"})),a&&l().createElement("div",{className:f("control",{side:"right",visible:["both","right"].includes(h),"no-arrow":!u,"game-page-right-arrow":n}),onClick:this.handleRightControlClick,onDoubleClick:this.handleDoubleClick},l().createElement(i.Q,{alt:m("common.scroll.right"),className:f("button"),"data-testid":"HorizontalContainerButton-Right",direction:"right"})))}}p.defaultProps={arrowCardShift:1,onInitContainerElement:()=>{},hasArrowButtons:!1,hasSpace:!1,gamePage:!1,scrollStep:700,showRightArrowSSR:!1,showShadow:!1},p.contextType=c.Z;const g=(0,s.$j)((function(e){return{darkTheme:(0,d.Up)(e),getText:e.getText}}))(p)},1338:(e,t,r)=>{r.d(t,{O:()=>n});var i=r(87363);const n=(0,i.createContext)({clickDaemonParams:{},metrikaParams:{},sendClickDaemon:()=>{},sendMetrika:()=>{}})},22747:(e,t,r)=>{r.d(t,{P:()=>P});var i=r(87363),n=r.n(i),o=r(1338),a=r(63662),l=r(27770),s=r(61006),c=r(40184),d=r(33119),m=r(5825),u=r(41811),h=r(89592),f=Object.defineProperty,p=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,v=(e,t,r)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,k=(e,t)=>{for(var r in t||(t={}))g.call(t,r)&&v(e,r,t[r]);if(p)for(var r of p(t))b.call(t,r)&&v(e,r,t[r]);return e};var y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,C=(e,t)=>{var r={};for(var i in e)w.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&y)for(var i of y(e))t.indexOf(i)<0&&E.call(e,i)&&(r[i]=e[i]);return r};function P(e){var t=e,{children:r}=t,f=C(t,["children"]);const{metrikaParams:p,clickDaemonParams:g}=(0,a.b)(f),b=function(e={}){const t=(0,m.T)(),r=(0,m.C)((e=>e.tagID)),{rtxReqid:n,platform:o,deviceType:a}=(0,c.b)(),l=(0,s.j)(),f={deviceType:a,clientDeviceType:a,platform:o,rtxReqid:n,tabCategory:l,listCategory:l===u.yK?r:void 0,type:h.SS.BLOCK},p=(0,i.useMemo)((()=>k(k({},f),e)),[l,a,o,n,r,e]);return(0,i.useCallback)(((e,r)=>{const i={staticParams:k(k({},p),r),action:e.action,blockSize:e.blockSize,firstScreen:e.firstScreen,logMethod:u.Go.USE_SEND_METRIKA};t((0,d.tn)(i))}),[t,p])}(p),v=(0,l.$)(g);return n().createElement(o.O.Provider,{value:{metrikaParams:p,clickDaemonParams:g,sendMetrika:b,sendClickDaemon:v}},r)}},34060:(e,t,r)=>{r.d(t,{j:()=>h});var i=r(87363),n=r.n(i),o=r(22747),a=Object.defineProperty,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&d(e,r,t[r]);if(l)for(var r of l(t))c.call(t,r)&&d(e,r,t[r]);return e},u=(e,t)=>{var r={};for(var i in e)s.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&c.call(e,i)&&(r[i]=e[i]);return r};function h(e,t){return r=>{var a=r,{metrikaParams:l,clickDaemonParams:s}=a,c=u(a,["metrikaParams","clickDaemonParams"]);const d=(0,i.useMemo)((()=>(null==t?void 0:t.metrikaParams)?m(m({},null==t?void 0:t.metrikaParams),l):l),[l]),h=(0,i.useMemo)((()=>(null==t?void 0:t.clickDaemonParams)?m(m({},null==t?void 0:t.clickDaemonParams),s):s),[s]);return n().createElement(o.P,{clickDaemonParams:h,metrikaParams:d},n().createElement(e,m({},c)))}}},63662:(e,t,r)=>{r.d(t,{b:()=>m});var i=r(87363),n=r(1338),o=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&c(e,r,t[r]);if(a)for(var r of a(t))s.call(t,r)&&c(e,r,t[r]);return e};function m(e){const t=(0,i.useContext)(n.O);return{metrikaParams:(0,i.useMemo)((()=>(null==e?void 0:e.metrikaParams)?d(d({},t.metrikaParams),null==e?void 0:e.metrikaParams):t.metrikaParams),[t.metrikaParams,null==e?void 0:e.metrikaParams]),clickDaemonParams:(0,i.useMemo)((()=>(null==e?void 0:e.clickDaemonParams)?d(d({},t.clickDaemonParams),null==e?void 0:e.clickDaemonParams):t.clickDaemonParams),[t.clickDaemonParams,null==e?void 0:e.clickDaemonParams])}}},58081:(e,t,r)=>{r.d(t,{z:()=>l});var i=r(61006),n=r(5825),o=r(36918),a=r(41811);function l(){const e=(0,n.C)((e=>e.tagID)),t=(0,n.C)((e=>e.errorStatusCode)),r=(0,n.C)((e=>{var t;return null==(t=e.search)?void 0:t.totalGamesCount})),l=(0,n.C)((e=>{var t;return null==(t=e.middleLayerInGameData)?void 0:t.appId})),s=(0,i.j)(),c=Boolean(t||s===a.zt&&0===r);return(0,o.L8)({currentTab:s,tagID:e,isErrorPage:c,middleLayerAppId:l})}},27770:(e,t,r)=>{r.d(t,{$:()=>g});var i=r(87363),n=r(58081),o=r(40184),a=r(5825),l=r(22823),s=r(41811),c=r(49659),d=Object.defineProperty,m=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,f=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t)=>{for(var r in t||(t={}))u.call(t,r)&&f(e,r,t[r]);if(m)for(var r of m(t))h.call(t,r)&&f(e,r,t[r]);return e};function g(e={}){const{rtxReqid:t}=(0,o.b)(),r=(0,a.C)((e=>e.rtxReqid)),d=(0,n.z)();return(0,i.useCallback)(((i,n)=>{var o;const a=i.action.name,m={url:(0,c.e)().href,rtx_reqid:t||r||"",page:d,first_screen:i.firstScreen?1:0,block:d,block_index:0,wrapper:s.NK.UNKNOWN,item:"block"};i.clickUrl&&(m.click_url=i.clickUrl);const u=p(p(p({},m),e),n),h=(0,l.L)();if(h){const{key:e,value:t}=h;u[e]=t}null==(o=window.clickdaemonLog)||o.call(window,a,u)}),[d,t,e])}},36292:(e,t,r)=>{r.d(t,{P:()=>o});var i=r(87363),n=r(1338);function o(){const{sendMetrika:e,sendClickDaemon:t}=(0,i.useContext)(n.O);return{sendMetrika:e,sendClickDaemon:t}}},482:(e,t,r)=>{r.d(t,{V:()=>k});var i=r(87363),n=r(83950),o=r(82027),a=Object.defineProperty,l=Object.defineProperties,s=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))d.call(t,r)&&u(e,r,t[r]);if(c)for(var r of c(t))m.call(t,r)&&u(e,r,t[r]);return e},f=(e,t)=>l(e,s(t));const p=o.fl.show,g=.5,b=800,v="useOnShow";function k({ref:e,onShow:t,threshold:r=g,actionName:o=p,delay:a=b,observerId:l=v,ready:s=!0,checkIsShowing:c}){var d,m,u,k;const y=(0,i.useRef)(),w=(0,i.useRef)(!0),[E,C]=(0,i.useState)({action:{name:o},blockSize:{height:null!=(m=null==(d=null==e?void 0:e.current)?void 0:d.scrollHeight)?m:0,width:null!=(k=null==(u=null==e?void 0:e.current)?void 0:u.scrollWidth)?k:0},firstScreen:w.current}),P=(0,i.useCallback)((r=>{(null==e?void 0:e.current)&&t(r)}),[t,e]);return(0,i.useEffect)((()=>{const t=null==e?void 0:e.current;if(!t||!s)return;const i=(0,n.V)(l,{threshold:r});return i.observe(t,(e=>{if(!c||e.boundingClientRect.height>=1&&e.boundingClientRect.width>=1)return e.intersectionRatio<r?(w.current=!1,window.clearTimeout(y.current),void(y.current=void 0)):void(y.current||(y.current=window.setTimeout((()=>{const e=f(h({},E),{blockSize:{height:t.scrollHeight,width:t.scrollWidth},firstScreen:w.current});C(e),P(e),i.unobserve(t)}),a)))})),()=>i.unobserve(t)}),[s]),E}},18546:(e,t,r)=>{r.d(t,{Z:()=>i});const i=(()=>{let e=Promise.resolve();const t=(t,r)=>{return i=void 0,n=null,o=function*(){try{yield e}catch(e){console.error(e)}finally{yield fetch(t,r)}},new Promise(((e,t)=>{var r=e=>{try{l(o.next(e))}catch(e){t(e)}},a=e=>{try{l(o.throw(e))}catch(e){t(e)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(r,a);l((o=o.apply(i,n)).next())}));var i,n,o};return(r,i)=>e=t(r,i)})()},20613:(e,t,r)=>{r.d(t,{S:()=>n});var i=r(41811);const n=()=>{var e;if("undefined"!=typeof window)try{const t=(null==(e=window.appData.location)?void 0:e.entryQuery)||{};if(t[i.Uq])return JSON.parse(decodeURIComponent(t[i.Uq]))}catch(e){}return{}}},72538:(e,t,r)=>{r.d(t,{Z:()=>b});var i=r(93298),n=Object.defineProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&s(e,r,t[r]);if(o)for(var r of o(t))l.call(t,r)&&s(e,r,t[r]);return e};r(91844);const d=["height","width"],m=["top","left","right","bottom"],u=[...d,...m],h="game",f=[".game",".play-guard-dialog",".merge-conflicts",".guard"],p=(0,i.M$)("ResizeBlockManager",i.XG.Dev,{background:"#c7aa00"}),g="ResizeBlockManager";const b=new class{constructor(){if(this.rootElements=[],this.blocks={},this.resizeBlocks={},this.resizes={},this.resizeListeners={},this.getObserverCallback=(e,t,r)=>(i,n)=>{const o=e.querySelector(t);o&&(n.disconnect(),r(o))},"undefined"==typeof window)return;let e;try{window.parent[g],e=window.parent}catch(t){e=window}if(e[g]){const t=e[g];t.rootElements.includes(window.document.body)||(t.rootElements.push(window.document.body),t.updateBlocks(),t.applyResizeBlocks("new rootElement"))}else e[g]=this,this.rootElements=[window.document.body];return e[g]}addResizeBlockListener(e,t,r=!0){var i;p("addListener",e),this.resizeListeners[e]||(this.resizeListeners[e]=[]);const n=this.resizeListeners[e];if(-1===n.indexOf(t)){if(n.push(t),r){const t=e===h?".game":e;this.resizeBlocks[t]&&this.callbackBlock(e,null!=(i=this.resizeBlocks[t])?i:{})}}else p("try to add existing listener, ",e)}removeResizeBlockListener(e,t){if(p("removeListener",e),!this.resizeListeners[e])return;const r=this.resizeListeners[e],i=r.indexOf(t);-1!==i&&r.splice(i,1)}addResizeBlock(e,t){p("addResize",e,t),this.resizes[e]=t,this.calcResizeBlocks(),this.updateBlocks(),this.applyResizeBlocks("addResizeBlock")}removeResizeBlock(e){p("removeResize",e),this.resizes[e]&&(delete this.resizes[e],this.calcResizeBlocks(),this.updateBlocks(),this.applyResizeBlocks("removeResizeBlock"))}findHTMLElement(e){let t=null;for(const r of this.rootElements)if(t=r.querySelector(e),t)break;if(t)return void(this.blocks[e]=t);p("create MutationObserver for ",e);const r=this.rootElements.map((t=>{const r=new MutationObserver(this.getObserverCallback(t,e,(t=>{this.blocks[e]=t,this.applyResizeBlocks("block found "+e)})));return r.observe(t,{childList:!0}),r}));this.blocks[e]=r}updateBlocks(){for(const e in this.blocks){if(void 0!==this.resizeBlocks[e])continue;const t=this.blocks[e];t instanceof Array?(t.forEach((e=>{e.disconnect()})),delete this.blocks[e]):(this.clearResizeBlock(e,this.blocks[e]),delete this.blocks[e])}for(const e in this.resizeBlocks)void 0===this.blocks[e]&&this.findHTMLElement(e)}calcResizeBlocks(){const e={};for(const t in this.resizes){const r=this.resizes[t];for(const t in r)if(r[t])if(t===h)for(const i of f)this.calcResizeParam(e,r[t],i);else this.calcResizeParam(e,r[t],t)}this.resizeBlocks=e}calcResizeParam(e,t,r){var i,n;let o=e[r];o||(o={},e[r]=o);for(const e of u)o[e]=(null!=(i=o[e])?i:0)+(null!=(n=t[e])?n:0)}applyResizeBlocks(e="unknown"){p(`applyResize (${e})`,this.resizeBlocks,this.blocks);for(const e in this.resizeBlocks){const t=this.blocks[e];if(!t||Array.isArray(t))continue;const r=this.resizeBlocks[e];for(const e of m)(null==r?void 0:r[e])?t.style[e]=r[e]+"px":t.style.removeProperty(e);for(const e of d)(null==r?void 0:r[e])?t.style[e]=`calc(100% + ${r[e]}px)`:t.style.removeProperty(e);this.callbackBlock(e,null!=r?r:{})}}clearResizeBlock(e,t){for(const e of u)t.style.removeProperty(e);this.callbackBlock(e,{})}callbackBlock(e,t){var r;if(".game"===e&&this.callbackBlock(h,t),null==(r=this.resizeListeners[e])?void 0:r.length)for(const r of this.resizeListeners[e])r(e,c({top:0,left:0,right:0,bottom:0,width:0,height:0},t))}removeDefaultClass(e){const t=window.document.body;Array.from(t.classList).forEach((r=>{e.forEach((e=>{r.startsWith(e)&&t.classList.remove(r)}))}))}}},91844:(e,t,r)=>{r.r(t)}}]);
//# sourceMappingURL=https://s3.mdst.yandex.net/games/source-maps/_/build/client/game/desktop/playhop/PlaySimilarGames.component.async.05e3514ab077de5c5d1a.js.map